<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil - Facto</title>
    <!-- Main CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body class="dashboard-layout">

    <!-- Sidebar Partial -->
    <div id="sidebar-container"></div>

    <div class="main-content">
        <!-- Header Partial -->
        <div id="header-container"></div>

        <div class="content-wrapper" style="padding: 20px; overflow-y: auto;">

            <div class="profile-container" style="max-width: 800px; margin: 0 auto; padding: 20px 0;">

                <!-- Page Title -->
                <div style="margin-bottom: 40px;">
                    <h1 class="text-h1" style="margin-bottom: 10px; font-size: 28px;">Configuraci√≥n de Perfil</h1>
                    <p class="text-body" style="color: #64748b;">Administra tu cuenta y firma electr√≥nica.</p>
                </div>

                <!-- Main Grid -->
                <div class="profile-grid" style="display: grid; gap: 30px;">

                    <!-- SECTION 1: LOGO & BASIC INFO -->
                    <div class="card"
                        style="padding: 30px; background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                        <h2 class="text-h2"
                            style="margin-bottom: 20px; font-size: 18px; border-bottom: 1px solid #f1f5f9; padding-bottom: 10px;">
                            Informaci√≥n Comercial</h2>

                        <div style="display: flex; gap: 30px; align-items: start; flex-wrap: wrap;">
                            <!-- Logo Upload -->
                            <div style="text-align: center; min-width: 120px;">
                                <div id="logoPreview" style="
                                    width: 120px; 
                                    height: 120px; 
                                    border-radius: 12px; 
                                    background: #f8fafc; 
                                    display: flex; 
                                    align-items: center; 
                                    justify-content: center;
                                    margin-bottom: 15px; 
                                    border: 2px dashed #cbd5e1;
                                    overflow: hidden;
                                ">
                                    <span style="font-size: 40px; color: #94a3b8;">üè¢</span>
                                </div>
                                <button class="btn btn-secondary btn-sm"
                                    onclick="document.getElementById('logoInput').click()" style="width: 100%;">
                                    Cambiar Logo
                                </button>
                                <input type="file" id="logoInput" hidden accept="image/*">
                            </div>

                            <!-- Fields -->
                            <div style="flex: 1; display: grid; gap: 20px; min-width: 250px;">
                                <div class="form-group">
                                    <label class="form-label"
                                        style="font-weight: 500; font-size: 14px; margin-bottom: 6px; display: block;">Raz√≥n
                                        Social</label>
                                    <input type="text" id="razonSocial" class="input-control"
                                        placeholder="Ej: Mi Empresa S.A."
                                        style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 6px;">
                                </div>

                                <div style="display: flex; gap: 20px;">
                                    <div class="form-group" style="flex: 1;">
                                        <label class="form-label"
                                            style="font-weight: 500; font-size: 14px; margin-bottom: 6px; display: block;">RUC</label>
                                        <input type="text" id="ruc" class="input-control" placeholder="17900xxxxx001"
                                            style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 6px;">
                                    </div>
                                    <div class="form-group" style="flex: 1;">
                                        <label class="form-label"
                                            style="font-weight: 500; font-size: 14px; margin-bottom: 6px; display: block;">Nombre
                                            Comercial</label>
                                        <input type="text" id="nombres" class="input-control"
                                            placeholder="Ej: Facto Store"
                                            style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 6px;">
                                    </div>
                                </div>

                                <button id="btnSaveInfo" class="btn btn-primary"
                                    style="align-self: flex-start; justify-self: start; background: black; color: white; padding: 10px 24px; border-radius: 8px; border: none; cursor: pointer;">Guardar
                                    Cambios</button>
                            </div>
                        </div>
                    </div>

                    <!-- SECTION 2: ELECTRONIC SIGNATURE -->
                    <div class="card"
                        style="padding: 30px; background: white; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid #f1f5f9; padding-bottom: 10px;">
                            <h2 class="text-h2" style="font-size: 18px; margin: 0;">Firma Electr√≥nica (.p12)</h2>
                            <span id="p12Status" class="status-badge warning" style="
                                padding: 4px 12px; 
                                border-radius: 20px; 
                                font-size: 12px; 
                                font-weight: 600;
                                background: #fffbeb;
                                color: #d97706;
                            ">No configurada</span>
                        </div>

                        <p class="text-body"
                            style="color: #64748b; margin-bottom: 20px; font-size: 14px; line-height: 1.5;">
                            Carga tu archivo <b>.p12</b> o <b>.pfx</b> para habilitar la firma de facturas. Tu archivo
                            se almacenar√° de forma segura.
                        </p>

                        <div
                            style="display: flex; gap: 15px; align-items: center; background: #f8fafc; padding: 20px; border-radius: 8px; border: 1px dashed #cbd5e1; margin-bottom: 20px;">
                            <div style="flex: 1;">
                                <div style="display: flex; align-items: center; gap: 15px;">
                                    <span style="font-size: 28px;">üîê</span>
                                    <div>
                                        <span id="fileNameDisplay"
                                            style="font-weight: 600; display: block; color: #334155; margin-bottom: 2px;">Seleccionar
                                            archivo...</span>
                                        <span style="font-size: 12px; color: #94a3b8;">Tama√±o m√°x: 5MB</span>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-secondary" onclick="document.getElementById('p12Input').click()"
                                style="padding: 8px 16px; border: 1px solid #cbd5e1; border-radius: 6px; background: white; cursor: pointer;">
                                Explorar
                            </button>
                            <input type="file" id="p12Input" hidden accept=".p12,.pfx">
                        </div>

                        <div style="display: flex; gap: 15px; align-items: flex-end;">
                            <div class="form-group" style="flex: 1;">
                                <label class="form-label"
                                    style="font-weight: 500; font-size: 14px; margin-bottom: 6px; display: block;">Contrase√±a
                                    del archivo</label>
                                <input type="password" id="p12PasswordHelper" class="input-control"
                                    placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                                    style="width: 100%; padding: 10px; border: 1px solid #e2e8f0; border-radius: 6px;">
                            </div>
                            <button id="btnUploadP12" class="btn btn-primary" disabled style="
                                background: black; 
                                color: white; 
                                padding: 10px 24px; 
                                border-radius: 8px; 
                                border: none; 
                                cursor: pointer; 
                                height: 42px;
                                opacity: 0.5;
                            ">
                                Subir Firma
                            </button>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div>

    <!-- Scripts -->
    <script src="/assets/js/common.js"></script>
    <script src="/assets/js/profile.js"></script>
</body>

</html>